>add by jzf@2020-03-18

# ShowAssistant 

# soarmanual
## Chapter 3 The Syntax of Soar Programs

### 3.3 Production Memory

每个产品都有三个必需的组件:名称、一组条件(也称为左侧，或LHS)和一组操作(也称为右侧，或RHS)。在那里
还有两个可选组件:文档字符串和类型。
从语法上讲，每个产品由符号sp组成，后面跟一个左花括号，
{;生产的名字;文档字符串(可选);生产类型(可选);注释(可选);生产的条件;符号——>(字面意思:dash-dash-greaterthan);生产的行动;和一个右花括号}。a的每个元素
生产被空白分隔。缩进和换行是按惯例使用的，
但不是必须的。

sp {production-name
"Documentation string"
:type
CONDITIONS
-->
ACTIONS
}

缩进结果的约定
本手册中的产品使用旨在提高可读性的约定进行格式化。这些约定不是所需语法的一部分。首先,生产的名字立即遵循后的第一个花括号sp。所有的条件都符合第一次花括号后,第一个字母和一个对象的属性都是对齐的箭头是缩进对齐条件和动作和右括号
跟随最后一个动作。

#### 3.3.1 Production Names

产品的名称几乎是任意常数。(有关常数的说明，请参阅第3.1.1节。)按照惯例，名称描述了产品的角色，但在功能上，名称只是一个主要供程序员使用的标签。产品名称不应该是一个字母后面跟数字，这是标识符的格式。
为产品命名的惯例是用星号分隔重要的元素;在名称中出现的重要元素有:
1. 任务或目标的名称(例如，块世界)。
2. 架构功能的名称(例如，建议)。
3.有问题的操作符(或其他对象)的名称。(例如,移动元件)
4. 其他相关细节。
这种命名惯例使人们对产品的功能有了一个很好的概念
通过检查它的名字。这可以帮助，例如，当你看飙升运行和
查看正在触发和撤消的特定结果。因为Soar使用留白
若在产品中无意中出现空白，则要分隔产品的组件
名字一出，高飞就会报怨开括号是期望启动的第一个条件。

3.3.2 Documentation string (optional)
3.3.3 Production type (optional)
3.3.3 Production type (optional)
3.3.5 The condition side of productions (or LHS)

生产的条件侧，也称为生产的左侧(或LHS)，是匹配一个或多个WMEs的模式。当一个产品的所有条件都与工作内存中的元素匹配时，该产品就被称为已实例化，并准备执行其操作。(每个实例都将规则绑定到特定的WMEs。)
下面的小节描述了产品的条件部分，包括谓词、
析取、连词、否定、操作符的可接受首选项，以及一些高级主题。

3.3.5.1条件
产品的条件部分由一组条件组成。每个条件测试工作记忆元素的存在或不存在(稍后在3.3.5.6节中解释)。
每个条件都包含一个开括号，后面是对标识符的测试，以及根据属性和值对该标识符的扩展进行的测试。该条件用一个右括号结束。单个条件可能测试单个工作内存元素的属性，或构成一个对象的多个工作内存元素的属性。
(identifier-test ^attribute1-test value1-test
^attribute2-test value2-test
^attribute3-test value3-test
...)

生产中的第一个条件必须与工作内存中的状态匹配。因此，第一个条件必须以附加符号“state”开始。所有其他条件和行为都必须直接或间接地与此条件相联系。这种连接可以是直接到状态的，也可以是间接的，通过条件中指定的对象。如果操作的标识符没有链接到状态，则在解析产品时输出警告，并且产品没有存储在产品内存中。在图3.2所示的示例生产操作中，操作员首选项直接链接到状态，其余操作通过操作员首选项间接链接。
虽然上面示例条件中的所有属性测试后面都有值测试，但是可以只测试属性的存在性，而不测试任何特定的值，方法是只包含属性而不包含值。上面模板的另一个例外是操作符首选项，它具有以下结构，其中在值测试之后有一个加号

在本节的其余部分中，我们将描述可用于标识符、属性和值的不同测试。其中最简单的是常量，其中在属性或值中指定的常量必须与工作内存元素中的相同常量匹配。
3.3.5.2产品中的变量
变量与标识符、属性或值位置中的WMEs中的符号匹配。变量可以通过附加的测试(在后面的部分中描述)或条件中的多次出现来进一步约束。如果一个变量在一个产品的条件下出现多次，那么只有当这些变量与相同的标识符或常量匹配时，产品才会匹配。但是，没有限制可以防止不同的变量绑定到相同的标识符或常量。
因为标识符是由Soar在运行时生成的，所以不可能在条件中包含对特定标识符的测试。因此，只要要匹配标识符，就会在条件中使用变量。
变量还提供了一种传递标识符和常量的机制，这些标识符和常量在条件下与规则的操作端匹配。

Syntactically, a variable is a symbol that begins with a left angle-bracket (i.e., <), ends with
a right angle-bracket (i.e., >), and contains at least one non-pipe (|) character in between.
In the example production in Figure 3.2, there are seven variables: <s>, <clear1>, <clear2>,
<ontop>, <block1>, <block2>, and <o>.
The following table gives examples of legal and illegal variable names.

Legal variables Illegal variables
<s> <>
<1> <1
<variable1> variable>
<abc1> <a b>
3.3.5.3 Predicates for values
条件(不管是常量还是变量)中的标识符、属性或值的测试可以由前面的谓词修改。有六个通用谓词可以使用:
<>， <=>， <， <=， >=， >。

谓词的谓词语义
< >不平等。除了紧接其后的值之外，匹配任何值。
< = >相同类型。匹配任何相同类型的符号(标识符，整数，
浮点，非数值常量)作为紧接其后的值。
<数值上小于紧接其后的值。
<=在数值上小于或等于紧接其后的值。
>=在数值上大于或等于紧接其后的值。
>数值上大于它后面的值。

还有四个特殊的谓词可用于测试长期标识符(LTI)
工作内存标识符所持有的链接:@，!@，@+，@-

谓词的谓词语义
@ LTI相同。当这两个值是工作内存标识符时匹配
连接到相同的LTI。
LTI ! @不同。当值不是链接到的两个标识符时匹配
LTI相同。
如果值是链接到某个LTI的标识符，则@+匹配。
@-如果值不是链接到某个LTI的标识符，则匹配。

3.3.5.4价值观差异
对标识符、属性或值的测试也可以是对分离常数的测试。与一个
析取，如果在工作内存中找到任何一个常量，就会有一个匹配
元素(与工作内存元素的其他部分匹配)。变量和
谓词不能在析取测试中使用。
在语法上，析取测试是用双尖括号指定的。， <<和>>)。
括号和常量之间必须有空格。

3.3.5.5价值观连词
对条件中的标识符、属性或值的测试可以包括测试的结合，
所有这些都必须坚持才能有一场比赛。
从语法上讲，连接词包含在花括号中(即，{和})。下面的表
展示一些合法和非法的连接测试的例子